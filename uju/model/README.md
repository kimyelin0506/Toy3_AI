**Feature Engineering 과정들**
- **데이터 구성**
    - 전체 200,000개 / 타겟 나이대 및 이상치 제거 후 약 150,000개
    - **사용 특성**
        - 총 6개: `weight_kg`, `height_cm`, `size`, `age`, `body type`  
        - 추천 지표: `fit_fit`, `rating 4점 이상만` (추천 시만 사용)
        - **알고리즘**: KMeans

- **1. 범주형데이터 가중치 부여**
     -  **원-핫 인코딩의 문제점**
        - 범주형 피처 원-핫 인코딩하면 **차원 폭증** 발생 → 각 차원이 독립적이어서 **의미 없는 거리 계산**으로 이어짐.
        - 예: `body type`이 10개 카테고리 → 10차원 생성 → 수치형 1개 피처 대비 **10배 영향력**.
        - 확인 위해 범주형 피처 제거 혹은 0.5 가중치 적용시 실루엣 점수 0.7~0.8 -> 0.1~0.2로 대폭 감소, 시각화시 군집 확인 어려움
        - 범주형 피처 원핫 인코딩 후 결과 왜곡 확인
        
     -  **신뢰성 있는 가중치 선택**
        - **1. 특성 중요도 기반 가중치**
            - KMeans 클러스터링 후 클러스터 중심 간 **분산** 계산 후 각 특성의 중요도 추정, 그에 따라 가중치 부여
            - 문제점: 원-핫 인코딩된 이진 데이터에 적용 시 분산이 작더라도 왜곡 가능성 존재(군집화 알고리즘(예: K-평균)에서 거리 계산에 큰 영향)
            - 결과: 실루엣 점수 확인시, 범주형 특성의 비중이 줄어들지 않아 기존 가중치 미적용 상태와 비슷함
            - 범주형을 제거 혹은 0.5 가중치 ->  실루엣 점수 대폭 하락됨과 비교시 특성 중요도(분산)기반 가중치는 여전히 왜곡 확인

        - **2. 1/n 가중치(채택)**
            - 각 범주형 차원에 `1/n` 가중치 부여 → **총합 1.0**으로 균형
            - 차원 수에 따른 편향을 즉시 해결, 모든 범주가 동등한 영향력
            - 데이터 분포나 극단적 분산을 무시할 가능성도 있으나 현재 가장 균등하고 합리적인 방법으로 간주됨
            - 결과: 실루엣 점수 0.2~0.3 -> Feature Engineering 통해 실루엣 점수 및 시각화 등 높이는 방향으로 진행
   
- **2. bmi와 체형밀도 지표 추가 혹은 제거**
    - 몸무게와 키를 사용하여 도출
    - 사용시 실루엣 점수 0.1정도 상승하였으나, 시각화시 여전히 군집 확인 어려움
    - 도메인 지식 반영후 기존의 몸무게와 키로 설정하였을때와 비슷하여 해당 지표 제거

- **3. 알고리즘 변경**
    - KMeans: 데이터가 비교적 균일한 분포를 가지거나, 명확한 군집 경계가 필요할 때
    - GaussianMixture: 군집 간 경계가 모호하거나, 사용자가 여러 군집에 걸쳐 있을 가능성이 클 때
    - 초기: KMeans사용하였으나 군집간 경계가 모호하여 GaussianMixture 변경시 실루엣 점수 0.1 상승
    - 도메인 지식 반영후 두 모델 모두 명확한 경계 보임 -> 구현 간단, 계산 속도 빠른 KMeans 최종 채택

- **3. 도메인 지식 반영**
    - 쇼핑몰 타겟 대상인 20-30대 나이대로 그룹화
    - 실루엣 점수 0.3~0.4, 시각화시 군집 준수 확인
    - 2만개 샘플링 후 전처리 후 전체데이터 약 15만개에서 동일한 결과 확인
    - 데이터가 많아질수록 클러스터 내 이질성이 커지고, 실루엣 점수는 낮아짐.
    - **클러스터의 실제 해석력과 시각화, 도메인 지식 등 다양한 지표[^1].**를 함께 평가
  

- **4. PCA와 t-SNE 시각화 해석**
    -  **1. PCA(전역적 구조)**: 선형적 차원 축소 기법으로, 데이터의 전역적 구조(global structure)를 보존
        - PC1은 size, weight_kg, height_cm의 선형 조합 -> 3층 구조
        - PC2는 age 그룹의 영향 -> 군집 간 전역 분리는 크지만, 완전 분리된 집합은 아님
        - **결론** 
            - 체형(size, weight, height)이 비슷한 사람들이 하나의 층을 형성
            - 그 층 내에서 20-30 나이대가 혼합되어 나타남
       
    -  **2. t-SNE(국소적 구조)**: 비선형 차원 축소 기법으로, 데이터의 국소적 구조(local structure)를 보존
        - 고객은 6개의 뚜렷한 세그먼트로 구분되며, 각 세그먼트는 고유한 특성 조합을 가짐
    
    -  **3. 실무적 활용**
        - 재고/사이즈 기획: PCA 기반 3개 체형 그룹별 생산 계획
        - 마케팅/제품 기획: t-SNE 기반 6개 세그먼트별 타겟팅
        - **클러스터 3 (대형 사이즈 고객)**
            - 특성: 평균 사이즈 21.67, 몸무게 74.30kg, hourglass/full bust 체형, 30-34세
            - 타겟팅: 플러스 사이즈 의류 라인, 몸매를 살리는 디자인, 신체 자신감 메시지

        - **클러스터 1/4 (소형 사이즈 고객)**
            - 특성: 평균 사이즈 3.84~4.60, petite 체형 다수
            - 타겟팅: 작은 사이즈 전용 컬렉션, 키 작은 여성을 위한 비율 조정 디자인

        - **클러스터 5 (30-34세 전용 군집)**
            - 특성: 100% 30-34세, 중간 사이즈(12.67)
            - 타겟팅: 30대 초반 라이프스타일 맞춤 디자인, 직장-여가 균형 메시지



[^1] [계층적 군집분석을 활용한 아시아 컨테이너 항만 클러스터링 측정](http://kportea.or.kr/filedown/Treatise/2022/3.%20%5B%ED%95%AD%EB%A7%8C%EA%B2%BD%EC%A0%9C%2037%EA%B6%8C%201%ED%98%B8%5D%20%EA%B3%84%EC%B8%B5%EC%A0%81%20%EA%B5%B0%EC%A7%91%EB%B6%84%EC%84%9D(%EC%B5%9C%EB%8B%A8,%20%EC%B5%9C%EC%9E%A5,%20%ED%8F%89%EA%B7%A0,%20%EC%A4%91%EC%95%99%EC%97%B0%EA%B2%B0)%EB%B0%A9%EB%B2%95%EC%97%90%20%EC%9D%98%ED%95%9C%20%EC%95%84%EC%8B%9C%EC%95%84%20%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%20%ED%95%AD%EB%A7%8C%EC%9D%98%20%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A7%81%20%EC%B8%A1%EC%A0%95%20%EB%B0%8F%20%EC%8B%A4_.pdf)
 
**핵심 내용**
- 실루엣 점수의 계산적 한계를 인정하고, **도메인 지식과 시각화를 결합한 평가 방법**을 제시.
- **"클러스터링 결과가 시각적으로 명확한 패턴을 보이면 점수가 낮아도 실용적 의미가 있음"**을 강조.
